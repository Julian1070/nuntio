(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/correct.80da24e4.mp3"},13:function(e,t,a){e.exports=a.p+"static/media/incorrect.248b888b.mp3"},16:function(e,t,a){e.exports=a(28)},21:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n,s,r=a(0),i=a.n(r),c=a(7),o=a.n(c),l=(a(21),a(8)),u=a(9),d=a(14),h=a(10),m=a(15),p=a(3),g=(a(22),a(4)),w=a(5),f=a(11),v=a(12),E=a.n(v),y=a(13),N=a.n(y),k={"":[],"ja-JP":["\u306f\u3044","\u3044\u3044\u3048","\u3044\u3089\u3063\u3057\u3083\u3044","\u3044\u3089\u3063\u3057\u3083\u3044\u307e\u305b","\u5927\u4e08\u592b","\u5927\u4e08\u592b\u3067\u3059\u304b","\u3059\u307f\u307e\u305b\u3093","\u304a\u9858\u3044\u3057\u307e\u3059","\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059","\u308f\u304b\u308a\u307e\u305b\u3093","\u65e5\u672c\u8a9e\u304c\u308f\u304b\u308a\u307e\u305b\u3093","\u3082\u3046\u4e00\u5ea6\u304a\u9858\u3044\u3057\u307e\u3059","\u82f1\u8a9e\u3092\u8a71\u305b\u307e\u3059\u304b?"],"de-DE":["Hallo!","Entschuldigung?","K\xf6nnen Sie mir helfen?","Wo ist der Bahnhof?","Wie viel Uhr ist es?","Ich h\xe4tte gerne einen kleinen Kaffee."]};g.b.add(f.a);var b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).initiate=function(){a.setState({userInitiation:!0})},a.setLanguage=function(e){a.setState({language:e,phrases:k[e],phrase:k[e][a.state.phraseIndex]},function(){return a.playAudio(a.state.phrase)})},a.playAudio=function(e){var t=new SpeechSynthesisUtterance(e);t.lang=a.state.language,window.speechSynthesis.speak(t)},a.skipPhrase=function(){var e=a.state.phraseIndex===a.state.phrases.length-1?0:a.state.phraseIndex+1;a.setState(function(t){return{answerReceived:!1,phrase:t.phrases[e],phraseIndex:e}},a.playAudio(a.state.phrases[e]))},a.startRecording=function(){a.setState(function(e){return{talking:!0,answerReceived:!1}}),s.lang=a.state.language,s.start()},a.stopRecording=function(){s.stop(),a.setState(function(e){return{talking:!1}}),s.onresult=function(e){var t=this,a=e.results.length-1,n=e.results[a][0].transcript,s=e.results[0][0].confidence,r=this.state.phrase.toLowerCase().replace(/[.,-\/#!$%^&*;:{}=\-_`~()@+?><[\]+]/g,"").replace(/[\pL_]+/g,"")===n.toLowerCase().replace(/[\pL_]+/g,"");if(this.setState(function(e){return{userUtterance:n,answerReceived:!0,answerCorrect:r,answerScore:r?s:0}}),r){var i=this.state.phraseIndex===this.state.phrases.length-1?0:this.state.phraseIndex+1;setTimeout(function(){t.setState(function(e){return{answerReceived:!1,phrase:e.phrases[i],phraseIndex:i}})},1e3),setTimeout(function(){t.playAudio(t.state.phrase)},1e3)}}.bind(Object(p.a)(Object(p.a)(a)))},a.state={browserSupport:!0,userInitiation:!1,language:"",phrases:[],phrase:"",phraseIndex:0,userUtterance:"",talking:!1,answerReceived:!1,answerCorrect:!1},a.myRef=i.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){try{n=window.SpeechRecognition||window.webkitSpeechRecognition,s=new n}catch(e){this.setState({browserSupport:!1})}this.setState(function(e){return{phrases:k[e.language],phrase:k[e.language][e.phraseIndex]}})}},{key:"render",value:function(){var e,t,a=this;return this.state.browserSupport?""!==this.state.language||this.state.userInitiation?""===this.state.language?i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"text-card normal"},i.a.createElement("div",{className:"welcome",id:"language-selection"},"nuntio lets you practice your pronunciation. If your computer understands you, people will too. Choose a language and get started:",i.a.createElement("div",{className:"language-choice",onClick:function(){return a.setLanguage("ja-JP")}},"\u65e5\u672c\u8a9e (Japanese)"),i.a.createElement("div",{className:"language-choice",onClick:function(){return a.setLanguage("de-DE")}},"Deutsch (German)"))),i.a.createElement("div",{className:"copyright"},"\xa9 2019 Julian Grosse")):(this.state.answerReceived&&this.state.answerCorrect?e=i.a.createElement("audio",{ref:this.myRef,src:E.a,autoPlay:!0}):this.state.answerReceived&&!this.state.answerCorrect&&(e=i.a.createElement("audio",{ref:this.myRef,src:N.a,autoPlay:!0})),t=this.state.answerReceived?i.a.createElement("div",{className:"score-bar"},i.a.createElement("div",{className:"outer-bar"},i.a.createElement("div",{className:"inner-bar",style:{width:"".concat(100*this.state.answerScore,"%")}}))):i.a.createElement("div",{className:"ellipsis"},i.a.createElement("span",{className:this.state.talking?"dot animated":"dot"}),i.a.createElement("span",{className:this.state.talking?"dot second animated":"dot second"}),i.a.createElement("span",{className:this.state.talking?"dot third animated":"dot third"})),i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:this.state.answerReceived?this.state.answerCorrect?"text-card correct":"text-card incorrect":"text-card normal"},i.a.createElement("div",{className:"phrase"},this.state.phrase),i.a.createElement(w.a,{icon:"ban",className:"ban-icon",onClick:this.skipPhrase,title:"Skip this sentence"}),i.a.createElement(w.a,{icon:"play",className:"play-icon",onClick:function(){return a.playAudio(a.state.phrase)},title:"Play audio"})),i.a.createElement("div",{className:"circle"},i.a.createElement(w.a,{icon:"microphone",className:"microphone-icon",onMouseDown:function(){return a.startRecording()},onMouseUp:function(){return a.stopRecording()},title:"Start recording"})),t,e,i.a.createElement("div",{className:"copyright"},"\xa9 2019 Julian Grosse"),i.a.createElement("div",{className:"nuntio",onClick:function(){return a.setLanguage("")}},"nuntio"))):i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"text-card normal"},i.a.createElement("div",{className:"welcome",id:"first-sentence"},"Practice your pronunciation with"),i.a.createElement("div",{className:"welcome",id:"second-sentence"},"nuntio"),i.a.createElement("div",{className:"welcome",id:"third-sentence",onClick:this.initiate},"start")),i.a.createElement("div",{className:"copyright"},"\xa9 2019 Julian Grosse")):i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"error-message"},i.a.createElement("h1",null,"Hey! Thank you for your interest in nuntio."),"Unfortunately, as of March 2019, you can only use nuncio with Chrome and Firefox. If you are using Chrome or Firefox and you still see this message, try updating your version. Else, you can download"," ",i.a.createElement("a",{href:"https://www.google.com/chrome/"},"Chrome")," or"," ",i.a.createElement("a",{href:"https://www.mozilla.org/en-US/firefox/new/"},"Firefox")," "," and come back."))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.86e7e9e5.chunk.js.map